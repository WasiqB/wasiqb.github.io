---
permalink: /coteafs/appium/logging/
title: "Logging"
toc: true
---
## Logging

### Problem Statement

Many a time it happens that user is not able to identify which statement of code is running or where it gets stuckup and he has to run the tests again in debug mode to make it clear.

### Solution provided by this framework

This framework provides Customizable logging of low level events by using [coteafs-logger](https://github.com/WasiqB/coteafs-logger). Customized logger config can also be created as per the need. By default, the framework searches logger config path in system properties `coteafs.logger.config`. In case, if the said properties is not defined, than it searches for file named `coteafs-logger.yaml` in the resource folder. If that too is also not defined, it uses it's default setting and will create log files as mentioned below:

Log File Name | Description
--------------|-------------
`my-log-all.log` | Logs all the events in this file.
`my-log-error.log` | Logs only the errors encountered in this file.
`my-log-main.log` | Logs only the info events in this file.

Following is the sample content of the logs which is generated by the framework.

```terminal
[21:25:58.889] [INFO ] - Preparing to perform actions on iOS device element UserName... (IOSActivity:)
[21:25:58.903] [INFO ] - Loading elements on iOS activity... (DeviceActivity:)
[21:26:03.472] [INFO ] - Clearing element [UserName]... (DeviceElementActions:)
[21:26:05.509] [INFO ] - Entering text [User1] in element [UserName]... (DeviceElementActions:)
[21:26:07.148] [INFO ] - Preparing to perform actions on iOS device element Password... (IOSActivity:)
[21:26:12.372] [INFO ] - Clearing element [Password]... (DeviceElementActions:)
[21:26:14.491] [INFO ] - Entering text [Pass@123] in element [Password]... (DeviceElementActions:)
[21:26:15.985] [INFO ] - Preparing to perform actions on iOS device element Go... (IOSActivity:)
[21:26:23.432] [INFO ] - Tapping on element [Go]... (DeviceElementActions:)
```

### Sample coteafs-logger config file

In case if modification is required in logging behaviour than logger config file can be modified and used instead of Framework's default `coteafs-logger.yaml`

The content of the `coteafs-logger.yaml` is as follows:

```yaml
status: WARN
monitor_interval: 30

properties:
  - name: log-path
    value: logs
  - name: error-log
    value: my-log-error
  - name: all-log
    value: my-log-all
  - name: test-log
    value: my-log-main
  - name: log-pattern
    value: "[%d{HH:mm:ss.SSS}] [%-5level] - %msg (%logger{1}:%L) %throwable{short.message}%n"

appenders:
  - name: console-log
    plugin: Console
    layout:
      plugin: PatternLayout
      attributes:
        pattern: ${log-pattern}
    attributes:
      target: SYSTEM_OUT
  - name: all-log-appender
    plugin: RollingFile
    attributes:
      fileName: ${log-path}/${all-log}.log
      filePattern: ${log-path}/${all-log}-%d{yyyy-MM-dd}.log
      append: false
      immediateFlush: true
    layout:
      plugin: PatternLayout
      attributes:
        pattern: ${log-pattern}
    component:
      plugin: Policies
      components:
        - plugin: TimeBasedTriggeringPolicy
          attributes:
            interval: 1
            modulate: true
        - plugin: SizeBasedTriggeringPolicy
          attributes:
            size: 50 MB
  - name: test-log-appender
    plugin: RollingFile
    attributes:
      fileName: ${log-path}/${test-log}.log
      filePattern: ${log-path}/${test-log}-%d{yyyy-MM-dd}.log
      append: false
      immediateFlush: true
    layout:
      plugin: PatternLayout
      attributes:
        pattern: ${log-pattern}
    component:
      plugin: Policies
      components:
        - plugin: TimeBasedTriggeringPolicy
          attributes:
            interval: 1
            modulate: true
        - plugin: SizeBasedTriggeringPolicy
          attributes:
            size: 50 MB
  - name: error-log-appender
    plugin: RollingFile
    attributes:
      fileName: ${log-path}/${error-log}.log
      filePattern: ${log-path}/${error-log}-%d{yyyy-MM-dd}.log
      append: false
      immediateFlush: true
    layout:
      plugin: PatternLayout
      attributes:
        pattern: ${log-pattern}
    component:
      plugin: Policies
      components:
        - plugin: TimeBasedTriggeringPolicy
          attributes:
            interval: 1
            modulate: true
        - plugin: SizeBasedTriggeringPolicy
          attributes:
            size: 50 MB
  - name: async
    plugin: Async
    appender_ref:
      - ref: "test-log-appender"

loggers:
  level: ALL  
  appender_ref:
  - ref: "console-log"
    attributes:
      level: DEBUG
  - ref: "async"
    attributes:
      level: INFO
  - ref: "all-log-appender"
    attributes:
      level: TRACE
  - ref: "error-log-appender"
    attributes:
      level: ERROR
```
